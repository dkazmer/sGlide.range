/**
author:		Daniel B. Kazmer (webshifted.com)
version:	2.0.0
**/
(c=>{var d={},f=!1,g={destroy:function(){return this.each((a,b)=>{const d=c(b),e=d.selector,g=d.attr("id"),h=c("#"+g+"_vert-marks");h[0]&&d.unwrap(),setTimeout(()=>{const a=c("#"+g+"_markers");0<a.length&&a.remove()},0);const i={down:"mousedown",up:"mouseup",move:"mousemove"};f?(i.down="touchstart",i.up="touchend",i.move="touchmove"):c(document).off("keydown."+g).off("keyup."+g),c(document).off(i.move+"."+g).off(i.up+"."+g),d.off(i.down),d.children(".slider_knob").off(i.up).off(i.down).remove(),d.children(".follow_bar").off(i.down).remove(),d.removeAttr("style").removeClass("vertical")}),this},startAt:function(a){return this.each((b,e)=>{const f=c(e),g=f.children(".s_knob1"),h=f.children(".s_knob2"),i=f.children(".follow1"),j=f.children(".follow2"),k=f.attr("id");d[k]=a;const l=Math.round(f.width()),m=2*g.width(),n=[],o=[];for(let c=0;c<a.length&&2!=c;c++)0>=a[c]?a[c]=0:100<=a[c]&&(a[c]=100),n.push((l-m)*a[c]/100+m/2),o.push(n[c]-m/2);g.css("left",o[0]).data("px",o[0]),h.css("left",o[1]).data("px",o[1]),i.css("width",n[0]-m/4),j.css("width",n[1]+m/4)}),this},init:function(g){this.each((e,h)=>{var j=c(h),k=j.attr("id");k||(k="sglide-range-"+e,j.attr("id",k)),j.html("<div class=\"follow_bar follow1\"></div><div class=\"follow_bar follow2\"></div><div class=\"slider_knob s_knob1\"></div><div class=\"slider_knob s_knob2\"></div>");var l=j.children(".slider_knob"),o=j.children(".s_knob1"),p=j.children(".s_knob2"),q=j.children(".follow_bar"),r=j.children(".follow1"),s=j.children(".follow2"),t=c.extend(!0,{startAt:[0,0],image:"none",height:40,width:100,unit:null,pill:!0,snap:{marks:!1,type:!1,points:0,sensitivity:2},totalRange:[0,0],disabled:!1,vertical:!1,retina:!1,locked:!1,noHandle:!1,handleSize:null},g);j.removeAttr("style");const u={down:"mousedown",up:"mouseup",move:"mousemove"},v=navigator.userAgent;if(v.match(/Android/i)||v.match(/webOS/i)||v.match(/iPhone/i)||v.match(/iPad/i)||v.match(/iPod/i)||v.match(/BlackBerry/i)){f=!0,u.down="touchstart",u.up="touchend",u.move="touchmove",window.navigator.msPointerEnabled&&(u.down="MSPointerDown",u.up="MSPointerUp",u.move="MSPointerMove");var w=null,y=null}else v.match(/Windows Phone/i)&&(window.navigator.msPointerEnabled?(j.css({"-ms-touch-action":"none"}),u.down="MSPointerDown",u.up="MSPointerUp",u.move="MSPointerMove"):(u.down="touchstart",u.up="touchend",u.move="touchmove"));d[k]=t.startAt;var A=0,B=0,C=null,D="#333",E=t.noHandle?"0":(()=>{switch(t.handleSize){case"big":return"4%";case"small":return"1%";default:return"2%";}})(),F="inherit",G=t.locked;const H=t.vertical,I=1<t.snap.points&&11>=t.snap.points,J=I&&t.snap.marks,K=("hard"==t.snap.type||"soft"==t.snap.type)&&t.snap.type,L=t.pill,M="none"!=t.image&&""!==t.image&&!t.noHandle,N=1<window.devicePixelRatio&&t.retina,O=(0!==t.totalRange[0]||0!==t.totalRange[1])&&t.totalRange[0]<t.totalRange[1],P=(a,b)=>{var c=a||[],d=[];if(c.length)return c.forEach((a,c)=>{d.push(new Promise(d=>{const e=new Image;e.onload=()=>{b(e,c),d()},e.src=a}))}),Promise.all(d)};if(M){let a=t.image;if(a=a instanceof Array?a:[a,a],N){const b=a=>{const b=a.lastIndexOf(".");return a.slice(0,b)+"@2x"+a.slice(b)};for(let c=0;c<a.length;c++)a[c]=b(a[c])}const b=(b,c)=>{let d=b,e=l[c],f=a[c],g=d.naturalHeight;N?(E=d.naturalWidth/2+"px",F=g/2+"px"):(E=d.naturalWidth+"px",F=g+"px"),D="url("+f+") no-repeat",e.style.width=E,e.style.height=F,e.style.background=D,N&&(e.style.backgroundSize="100%"),q.eq(c).css({height:F,"border-radius":L?g/2+"px 0 0 "+g/2+"px":"0"}),0===c&&j.css({height:F,"border-radius":L?g/2:"0"});{let a=t.height;if(g>a){let b=(g-a)/2;for(N&&(b=(g/2-a)/2),j.css("height",a+"px"),ib=0;ib<l.length;ib++)l[ib].style.top="-"+b+"px",q[ib].style.height=a+"px",q[ib].style.borderRadius=L?g/2+"px 0 0 "+g/2+"px":"0"}else j.css("overflow","hidden")}};P(a,b).then(()=>c(h).trigger(Ka))}else{let a=t.height/2;j.css({"border-radius":L?a+"px":"0",overflow:"hidden"}),q.css("border-radius",L?a+"px 0 0 "+a+"px":"0"),setTimeout(()=>{c(h).trigger(Ka)},0)}let Q=t.width;const R=t.unit||H?"px":"%";"px"==R?Q=Math.round(Q):"%"==R&&100<Math.round(Q)&&(Q=100),j.css({width:Q+R,height:t.height+"px","text-align":"left",margin:"auto","z-index":"997",position:"relative","-webkit-touch-callout":"none"});var S=Math.round(j.width()),T=Math.round(S/2),U=Math.round(j.height()),V=Math.round(U/2),W=" translate(-"+Math.abs(T-V)+"px, 0)";const X={"-webkit-box-sizing":"content-box","-khtml-box-sizing":"content-box","-moz-box-sizing":"content-box","-ms-box-sizing":"content-box","box-sizing":"content-box"},Y={"-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"},Z={"-webkit-transform":"rotate(-90deg)"+W,"-khtml-transform":"rotate(-90deg)"+W,"-moz-transform":"rotate(-90deg)"+W,"-ms-transform":"rotate(-90deg)"+W,transform:"rotate(-90deg)"+W,"-webkit-transform-origin":T+"px "+V+"px","-khtml-transform-origin":T+"px "+V+"px","-moz-transform-origin":T+"px "+V+"px","-ms-transform-origin":T+"px "+V+"px","transform-origin":T+"px "+V+"px",filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)"};j.css(X).css(Y),l.css({width:E,background:D,height:F,display:"inline-block",visibility:t.noHandle?"hidden":"visibe",cursor:t.disabled?"default":"pointer","font-size":"0",position:"relative","z-index":"2"}).css(X),q.css({position:"absolute",height:l.height()+"px",width:"0",left:"0"}).css(X),r.css("z-index","1"),s.css("cursor","default");var $=function(){var a=G;if(a&&(G=!1),"hard"===K)ia=o,xa(o[0].offsetLeft),ia=p,xa(p[0].offsetLeft);else if("soft"===K){const a=a=>{na=!0,ia=a,qa("soft",a[0].offsetLeft)};a(o),a(p)}a&&(G=!0),d[k]=Ha(o.data("px"),p.data("px"))};const _=Math.round(t.snap.points);var aa=null,ba=[0],ca=[0];const da=(a,b)=>{ca=[0];const c=a/(_-1);for(let d=c;d<=a+b;)ca.push(d),d+=c},ea=()=>{const a=(o.width()+p.width())/2,b=S-2*a;da(b,a);for(let a of ca)ba.push(100*(a/b));ba[ba.length-1]=100,J&&fa()},fa=()=>{let a=o.width();if(j.after("<div id=\""+k+"_markers\" class=\"sglide-markers\"></div>"),aa=c("#"+k+"_markers"),aa.css({position:"relative",width:S+"px",margin:"auto","-webkit-touch-callout":"none","box-sizing":"border-box"}).css(Y),aa){let b="",c=null;for(let d=_-1;0<=d;d--)c=(S-2*a)/(_-1)*d+a,b+="<div style=\"width:0; height:5px; border-left:#333 solid 1px; position:absolute; left:"+c+"px\"></div>";aa.html(b)}},ga=()=>{if(J&&I){const b=c("#"+k+", #"+k+"_markers");b.wrapAll("<div id=\""+k+"_vert-marks\" style=\"margin:0; z-index:997; width:"+Q+R+"; -webkit-backface-visibility:hidden; -moz-backface-visibility:hidden; -ms-backface-visibility:hidden; backface-visibility:hidden; display:inline-block\"></div>"),C=c("#"+k+"_vert-marks"),j.css("width","100%"),C.css(X).css(Z),b.css("margin","0")}else j.css({margin:"0",top:"0",left:"0","backface-visibility":"hidden",display:"inline-block"}).css(Z);j.addClass("vertical")};var ha=!1,ia=null,ja=!1,ka=null,i=d[k],x=!1,la=!0,ma=!0,na=!1;const oa=a=>{var b=0,d="hard"===K?o.width()/2:0;for(let c of ca)Math.abs(c-a+d)<Math.abs(b-a+d)&&(b=c);return b},pa=(a,b)=>ia[0]===p[0]?a-.875*b:a+b/8,qa=(a,b)=>{if(I){const e=t.snap.sensitivity;if(e||"hard"===K||"soft"===K){const f=ia.width(),g=2*f,h=(e&&0<e&&4>e?5*(e+1):15)-3;let i=oa(b);if((G||ja||ua)&&!K)var c=ia[0]===o[0]?b+Ca-ia.width():b-Ca,d=oa(c);let j=!1;const k=()=>{if(G||ja){let a=Math.abs(i-b+f),e=Math.abs(d-c);simulSnapped=1>Math.abs(a-e),a>e?(j=!0,i=d,b=c+f/8):b=pa(b,f)}else b=pa(b,f)};if("drag"===a){if("hard"!==K)k(),Math.round(Math.abs(i-b+f/8))<h?(x=!0,sa(i,g,j)):(x=!1,ia[0]===o[0]||ja&&j?la=!0:ia[0]===p[0]&&(ma=!0));else if(ja)Math.abs(d-o.data("px"))<Math.abs(i-p.data("px"))?(ia=o,sa(d,g),ma=!0,ia=p):(sa(i,g),la=!0);else{switch(ia[0]){case o[0]:la=!0;break;case p[0]:ma=!0;}sa(i,g)}}else if(ja||k(),ua){if(na)return ia===p?(ma=!0,sa(i,g,null),la=!0):(la=!0,sa(i,g),ma=!0),na=!1,i;}else if(na){switch(ia[0]){case o[0]:la=!0;break;case p[0]:ma=!0;}return sa(i,g),na=!1,i}}}},ra=(a,b)=>{if("hard"===K){let c=null;switch(a){case 0:if(c=Ha(b,null)[0],c===i[0])return!1;break;case 1:if(c=Ha(null,b)[1],c===i[1])return!1;}}za();var c=null;0===a?c=Ha(b,p.data("px")?p.data("px"):B):1===a?c=Ha(o.data("px")?o.data("px"):A,b):void 0;g.onSnap&&!0&&(i=c,g.onSnap.call(j[0],Ia.apply(this,c)))},sa=(a,b,c)=>{const d=()=>a+.75*b;var e=d();if(ia[0]===o[0]&&!c||ia[0]===p[0]&&c){const c=()=>a+Ca-b/2;(G||ja||ua)&&c()>S-b?a-=c()-(S-b):a>p.data("px")&&!K&&(a=p.data("px")),o.css("left",a).data("px",a),r.css("width",a+b/4),(G||ja||ua)&&(p.css("left",c()).data("px",c()),s.css("width",a+b/4+Ca)),la&&(ra(0,a),la=!1,ma=x)}else{const c=()=>a-Ca+b/2;(G||ja||ua)&&0>=a-Ca+b/2?a-=c():a<o.data("px")&&!K&&(a=o.data("px")),e=d(),p.css("left",a).data("px",a),s.css("width",e),(G||ja||ua)&&(o.css("left",c()).data("px",c()),r.css("width",e-Ca)),ma&&(ra(1,a),ma=!1,la=x)}};var ka=null,ta=!1,n=!1,ua=!1;const va=a=>{if(ha){a=a||event,na=!0;let b=null,c=l.width();if(H){let c=(J?C.position().top:j.position().top)+S;f?(y=a.originalEvent.touches[0].pageY,b=c-y):b=c-a.pageY}else f?(w=a.originalEvent.touches[0].pageX,b=w-j.offset().left):b=a.pageX-j.offset().left;ja&&(null==ka&&(ka=ia.data("px")+c-b+c/2),b+=ka,!Da&&Ea());let e=c/2,h=b-e;a.returnValue&&(a.returnValue=!1);let i=ia[0],m=o[0],q=p[0];if(G||ja)i===m?b<=e?(n&&(n=!1),!ta&&(o.css("left",0).data("px",0),r.css("width",e),p.css("left",Ca-c).data("px",Ca-c),s.css("width",Ca+e),ta=!0)):b>=S-Ca-e?(ta&&(ta=!1),!n&&(p.css("left",S-2*c).data("px",S-2*c),s.css("width",S-e),o.css("left",S-Ca-c).data("px",S-Ca-c),r.css("width",S-Ca-e),n=!0)):(ta=n=!1,o.css("left",h).data("px",h),r.css("width",b),p.css("left",h-c+Ca).data("px",h-c+Ca),s.css("width",b+Ca),xa(h)):i===q&&(b<=Ca+e?(n&&(n=!1),!ta&&(p.css("left",Ca-c).data("px",Ca-c),s.css("width",Ca+e),o.css("left",0).data("px",0),r.css("width",e),ta=!0)):b>=S-e?(ta&&(ta=!1),!n&&(p.css("left",S-2*c).data("px",S-2*c),s.css("width",S-e),o.css("left",S-Ca-c).data("px",S-Ca-c),r.css("width",S-Ca-e),n=!0)):(ta=n=!1,p.css("left",h-c).data("px",h-c),s.css("width",b),o.css("left",h-Ca).data("px",h-Ca),r.css("width",b-Ca),xa(h)));else if(i===m){let a=p.data("px"),c=q.offsetLeft;if(b<=e)n&&(n=!1),ta||(o.css("left",0).data("px",0),r.css("width",e),ta=!0);else if(b>=c-e){if(ta&&(ta=!1),I&&"hard"===K)return ta;n||(o.css("left",a).data("px",a),r.css("width",c-e),"hard"===K&&ra(Ha([A,B]).percentRange[1],"from"),n=!0)}else ta=n=!1,o.css("left",h).data("px",h),r.css("width",b),xa(h)}else if(i===q){let a=o.data("px"),d=m.offsetLeft;if(b<=d+e+c){if(n&&(n=!1),I&&"hard"===K)return n;ta||(p.css("left",a).data("px",a),s.css("width",d+e+c),"hard"===K&&ra(Ha([A,B]).percentRange[0],"to"),ta=!0)}else b>=S-e?(ta&&(ta=!1),n||(p.css("left",S-2*c).data("px",S-2*c),s.css("width",S-e),n=!0)):(ta=n=!1,p.css("left",h-c).data("px",h-c),s.css("width",b),xa(h))}if(za(),g.drag&&"active"===j.data("state")){const a=Ia.apply(this,Ha(A,B));d[k]=a.percentRange,g.drag.call(j[0],a)}}},wa=a=>{ua=ja;const b=j.data("state");if(ha=ja=Da=ta=n=!1,ka=null,"active"===b){if("hard"!==K){a=a||event;let c=null,e=0;const h=l.width();H?(e=(J?C.position().top:j.position().top)+S,c=e-((f?y:a.pageY)-2)):c=(f?w:a.pageX)-j.offset().left,ua&&(null===ka&&(ka=ia[0].offsetLeft-c+h/2),c+=ka,!Da&&Ea());const i=ia[0]===p[0]?1.5*h:h/2,n=c-i;ua&&"soft"===K?qa("soft",n):I&&"soft"===K&&(ia[0]===o[0]&&n<=p[0].offsetLeft?A=qa("soft",n):ia[0]===p[0]&&n>=o[0].offsetLeft&&(B=qa("soft",n)));const m=Ia.apply(this,Ha(A,B));d[k]=m.percentRange,g.drop&&g.drop.call(j[0],m),g.drag&&"active"===b&&g.drag.call(j[0],m)}j.data("state","inactive")}Da=ua=!1,ka=null},xa=a=>{(I&&!K||"hard"===K)&&qa("drag",a)},ya=()=>{t.disabled||(l.on(u.down,a=>{ia=c(a.target),ha=!0,j.data("state","active")}).on(u.up,()=>{ha=!1}),c(document).on(u.move+"."+k,va).on(u.up+"."+k,wa),s.on(u.down,()=>{ha=ja=!0,ia=p,j.data("state","active")}).on(u.up,()=>{ha=!1}),f&&c(document).on(u.down+"."+k,a=>{w=a.originalEvent.touches[0].pageX,y=a.originalEvent.touches[0].pageY})),c(window).on("resize."+k,()=>{if(!H){S=Math.round(j.width());var a=null,b=o.width(),e=(a=>{for(let c of d[k])a.push(c/100*(S-b)+b/2);return a})([]);j.sGlideRange("startAt",d[k]),aa&&(da(S-2*b,b),aa.css("width",S).children("div").each((d,e)=>{a=(S-2*b)/(_-1)*d+b,c(e).css("left",a)}))}})},za=()=>{A=o.data("px")||o[0].offsetLeft||0,B=p.data("px")||p[0].offsetLeft-p.width()||0};var Aa=null,Ba=null,Ca=null,Da=!1;const Ea=()=>{Aa=o.data("px")||o[0].offsetLeft,Ba=p.data("px")||p[0].offsetLeft,Ca=Ba-Aa+p.width(),Da=!0};if(O)var Fa=t.totalRange[0],Ga=t.totalRange[1]-Fa;const Ha=(c,a)=>{var b=S-o.width()-p.width(),d=null,e=null;return(c||0===c)&&(d=100*(c/b),d=Math.min(d,100)),(a||0===a)&&(e=100*(a/b),e=Math.min(e,100)),[d,e]},Ia=(a,b)=>{var c={percentRange:[a,b]};if(O){const d=a=>Ga*a/100+Fa;c.customRange=[d(a),d(b)]}return c},Ja=()=>{j.sGlideRange("startAt",d[k]),za(),ya(),I&&ea(),H&&ga(),("hard"===K||"soft"===K)&&$(),G&&Ea();const a=Ia.apply(this,d[k]);c(h).off("makeready."+k,Ja).trigger("sGlide.ready",[a])},Ka=c.Event("makeready."+k);c(h).on("makeready."+k,Ja)})}};c.fn.sGlideRange=function(a){if(g[a])return g[a].apply(this,Array.prototype.slice.call(arguments,1));return"object"!=typeof a&&a?void c.error("Method "+a+" does not exist on jQuery.sGlideRange"):g.init.apply(this,arguments)}})(jQuery);