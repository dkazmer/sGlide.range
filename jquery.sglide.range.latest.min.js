/**
author:		Daniel Kazmer - http://webshifted.com
version:	1.3.0
**/
!function(t){var e={},i=!1,o={destroy:function(){return this.each(function(e,o){var n=t(o),s=(n.selector,n.attr("id")),a=t("#"+s+"_vert-marks");a[0]&&n.unwrap(),setTimeout(function(){var e=t("#"+s+"_markers");e.length>0&&e.remove()},0);var r={down:"mousedown",up:"mouseup",move:"mousemove"};i?(r.down="touchstart",r.up="touchend",r.move="touchmove"):t(document).off("keydown."+s).off("keyup."+s),t(document).off(r.move+"."+s).off(r.up+"."+s),t(window).off("orientationchange."+s),n.off(r.down),n.children(".slider_knob").off(r.up).off(r.down).remove(),n.children(".follow_bar").off(r.down).remove(),n.removeAttr("style").removeClass("vertical")}),this},startAt:function(i){return this.each(function(o,n){var s=t(n),a=(s.children(".slider_knob"),s.children(".s_knob1")),r=s.children(".s_knob2"),l=(s.children(".follow_bar"),s.children(".follow1")),d=s.children(".follow2"),f=s.attr("id");e[f]=i;for(var h=s.width(),c=2*a.width(),p=[],u=[],v=0;v<i.length&&2!==v;v++)i[v]<=0?i[v]=0:i[v]>=100&&(i[v]=100),p.push((h-c)*i[v]/100+c/2),u.push(p[v]-c/2);a.css("left",u[0]+"px"),r.css("left",u[1]+"px"),l.css("width",p[0]-c/4+"px"),d.css("width",p[1]+c/4+"px")}),this},init:function(o){this.each(function(n,s){var a=t(s),r=a.attr("id");r||(r="sglide-range-"+n,a.attr("id",r)),a.html('<div class="follow_bar follow1"></div><div class="follow_bar follow2"></div><div class="slider_knob s_knob1"></div><div class="slider_knob s_knob2"></div>');var l=a.children(".slider_knob"),d=a.children(".s_knob1"),f=a.children(".s_knob2"),h=a.children(".follow_bar"),c=a.children(".follow1"),p=a.children(".follow2"),u=t.extend({startAt:[0,0],image:"none",height:40,width:100,unit:"%",pill:!0,snap:{marks:!1,type:!1,points:0},disabled:!1,vertical:!1,totalRange:[0,0],locked:!1,noKnob:!1,retina:!0},o);a.removeAttr("style");var v={down:"mousedown",up:"mouseup",move:"mousemove"},g=navigator.userAgent;if(g.match(/Android/i)||g.match(/webOS/i)||g.match(/iPhone/i)||g.match(/iPad/i)||g.match(/iPod/i)||g.match(/BlackBerry/i)){i=!0,v.down="touchstart",v.up="touchend",v.move="touchmove",window.navigator.msPointerEnabled&&(v.down="MSPointerDown",v.up="MSPointerUp",v.move="MSPointerMove");var m=null,x=null}else g.match(/Windows Phone/i)&&(window.navigator.msPointerEnabled?(a.css({"-ms-touch-action":"none"}),v.down="MSPointerDown",v.up="MSPointerUp",v.move="MSPointerMove"):(v.down="touchstart",v.up="touchend",v.move="touchmove"));u.startAt[0]===u.startAt[1]&&(100===u.startAt[1]?u.startAt[0]-=1e-5:u.startAt[1]+=1e-5),e[r]=u.startAt;var w=0,b=0,y=u.vertical,k=u.snap.points>0&&u.snap.points<=9&&u.snap.marks,M="hard"!=u.snap.type&&"soft"!=u.snap.type?!1:u.snap.type,_="#333",A=u.noKnob?"0":"2%",z="inherit",P=Math.round(u.height)+"px",R=u.pill,L="none"!=u.image&&""!==u.image&&!u.noKnob,S=window.devicePixelRatio>1&&u.retina,E=(0!==u.totalRange[0]||0!==u.totalRange[1])&&u.totalRange[0]<u.totalRange[1],W=u.locked;if(L){var X=u.image,G=X instanceof Array,K=function(t){var e=t.split("."),i=e.length;e[i-2]=e[i-2]+"@2x",t="";for(var o=0;i>o;o++)t+=e[o]+(i-1>o?".":"");return t};if(G){X=t.extend([],X),S&&(X[0]=K(X[0]),X[1]=K(X[1])),l.html('<img src="" style="visibility:hidden; position:absolute" />');var T=null,Y=0,j=function(e){T=e.find("img"),T.attr("src",X[Y]).load(function(){var i=T[0].naturalHeight;S?(T.width(T[0].naturalWidth/2),i=T.height(),A=T.width()+"px",z=i+"px"):(A=T[0].naturalWidth+"px",z=i+"px"),_="url("+X[Y]+") no-repeat";var o={width:A,height:z,background:_};if(S&&(o["background-size"]="100%"),e.css(o),T.remove(),1>Y)Y++,j(f);else{h.css({height:z,"border-radius":R?i/2+"px 0 0 "+i/2+"px":"0"}),a.css({height:z,"border-radius":R?i/2+"px":"0"}),t(e).trigger(_t);var n=u.height;if(i>n){var s=(i-n)/2;a.css("height",n+"px"),l.css("top","-"+s+"px"),h.css({height:n+"px","border-radius":R?i/2+"px 0 0 "+i/2+"px":"0"})}else a.css("overflow","hidden")}})};j(d)}else l.html('<img src="'+X+'" style="visibility:hidden; position:absolute" />'),S&&(X=K(X)),l.children("img").load(function(){var e=t(this),i=e[0].naturalHeight;A=e[0].naturalWidth+"px",z=i+"px",_="url("+X+") no-repeat";var o={width:A,height:z,background:_};S&&(o["background-size"]="100%"),l.css(o),h.css({height:z,"border-radius":R?i/2+"px 0 0 "+i/2+"px":"0"}),a.css({height:z,"border-radius":R?i/2+"px":"0"}),e.remove(),t(s).trigger(_t);var n=u.height;if(i>n){var r=(i-n)/2;a.css("height",n+"px"),l.css("top","-"+r+"px"),h.css({height:n+"px","border-radius":R?i/2+"px 0 0 "+i/2+"px":"0"})}else a.css("overflow","hidden")})}else{var B=u.height/2;a.css({"border-radius":R?B+"px":"0",overflow:"hidden"}),h.css("border-radius",R?B+"px 0 0 "+B+"px":"0"),setTimeout(function(){t(s).trigger(_t)},0)}var D=u.unit,O=u.width;"px"!=D&&"%"!=D?D="%":"px"==D?O=Math.round(O):"%"==D&&Math.round(O)>100&&(O=100),a.css({width:O+D,height:P,"text-align":"left",margin:"auto","z-index":"997",position:"relative","-webkit-touch-callout":"none"});var C=a.width(),H={"-webkit-box-sizing":"content-box","-khtml-box-sizing":"content-box","-moz-box-sizing":"content-box","-ms-box-sizing":"content-box","box-sizing":"content-box"},I={"-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"},Q={"-webkit-transform":"rotate(-90deg)","-khtml-transform":"rotate(-90deg)","-moz-transform":"rotate(-90deg)","-ms-transform":"rotate(-90deg)",transform:"rotate(-90deg)","-webkit-transform-origin":C+"px 0","-khtml-transform-origin":C+"px 0","-moz-transform-origin":C+"px 0","-ms-transform-origin":C+"px 0","transform-origin":C+"px 0",filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)"};a.css(H).css(I),l.css({width:A,background:_,height:z,display:"inline-block",visibility:u.noKnob?"hidden":"visibe",cursor:u.disabled?"default":"pointer","font-size":"0",position:"relative","z-index":"2"}).css(H),h.css({position:"absolute",height:l.height()+"px",width:"0",left:"0"}).css(H),c.css("z-index","1"),p.css("cursor","default");var U=!1,V=Math.round(u.snap.points),q=[0],F=function(e){1===V&&(V=2);for(var i=2*d.width(),o=C-i,n=o/(V-1),s=[0],l=n;o+2>=l;)s.push(l),l+=n;for(n=100/(V-1),l=n;101>=l;)q.push(l),l+=n;if(U=!0,k){var f=null;e?(f=t("#"+r+"_markers"),f.html("")):(a.after('<div id="'+r+'_markers"></div>'),f=t("#"+r+"_markers"),f.css({width:C+"px",margin:"auto","padding-left":i/2+"px","-webkit-touch-callout":"none","box-sizing":"border-box"}).css(I));for(var h="",c=0;c<s.length;c++)h+='<div style="display:inline-block; width:0; height:5px; border-left:#333 solid 1px; position:relative; left:'+(s[c]-c)+'px; float:left"></div>';f.html(h)}},J=function(){if(k&&V>0&&10>V){var e=t("#"+r+", #"+r+"_markers");e.wrapAll('<div id="'+r+'_vert-marks" style="margin:0; z-index:997; width:'+O+D+'; -webkit-backface-visibility:hidden; -moz-backface-visibility:hidden; -ms-backface-visibility:hidden; backface-visibility:hidden"></div>');var i=t("#"+r+"_vert-marks");a.css("width","100%"),i.css(H).css(Q);for(var o=0;o<e.length;o++)e.css("margin","0")}else a.css({margin:"0",top:"0",left:"0","backface-visibility":"hidden"}).css(Q);a.addClass("vertical")},N=!1,Z=null,$=!1,tt=null,et=["a-1","b-1"],it=null,ot=function(e,i){if(V>0&&10>V){var o=void 0!==u.snap.sensitivity?u.snap.sensitivity:2;if(o||"hard"===M||"soft"===M){for(var n=Z.width(),s=2*n,a=n/2,r=(o&&o>0&&4>o?5*(o+1):15)-3,l=[],h=0;h<q.length;h++)l.push((C-s)*q[h]/100);var c=null,p=0;if(t.each(l,function(t){(null===c||Math.abs(this-i)<Math.abs(c-i))&&(c=0|this,p=q[t])}),W||$){var v=null,g=0,m=0;m=Z[0]===d[0]?i+vt-.75*Z.width():i-vt,t.each(l,function(t){(null===v||Math.abs(this-m)<Math.abs(v-m))&&(v=0|this,g=q[t])})}var x=!1,w=function(){(W||$)&&u.startAt[0]!==u.startAt[1]?Math.abs(c-i)>Math.abs(v-m)?(x=!0,c=v,i=Z[0]===d[0]?m-a:m):i=Z[0]===f[0]?i-n:i:W||Z[0]!==f[0]||(i-=n)};if("drag"!==e)return w(),st(c,s,x),c;"hard"===M?$?Math.abs(v-d[0].offsetLeft)<Math.abs(c-f[0].offsetLeft)?(Z=d,st(v,s),Z=f,nt(p,"from")):(st(c,s),nt(p,"to")):(st(c,s),nt(p,Z[0]===d[0]?"from":"to")):(w(),Math.round(Math.abs(c-i+n/8))<r?(st(c,s,x),nt(p,Z[0]===d[0]?"from":"to")):et=["a-1","b-1"])}}},nt=function(t,i){var n=0,s=null;if("to"===i?(n=1,s="b"+t):s="a"+t,o.onSnap&&s!==et[n]||$&&s!==it){et[n]=s,$&&(it=s);var a=null;a=kt("to"===i?yt([-1!==et[0].indexOf("-1")?e[r][0]:et[0],t]):yt([t,-1!==et[1].indexOf("-1")?e[r][1]:et[1]])),setTimeout(o.onSnap,0,a)}},st=function(t,e,i){var o=function(){return t+e/4+e/2};followPos=o(),Z[0]===d[0]&&!i||Z[0]===f[0]&&i?((W||$)&&t+vt-e/2>C-e&&(t-=t+vt-e/2-(C-e)),t>f[0].offsetLeft-e/2&&(t=f[0].offsetLeft-e/2),d[0].style.left=t+"px",c[0].style.width=t+e/4+"px",(W||$)&&(f[0].style.left=t+vt-e/2+"px",p[0].style.width=t+e/4+vt+"px")):((W||$)&&0>=t-vt+e/2&&(t-=t-vt+e/2,followPos=o()),t<d[0].offsetLeft&&(t=d[0].offsetLeft),f[0].style.left=t+"px",p[0].style.width=followPos+"px",(W||$)&&(d[0].style.left=t-vt+e/2+"px",c[0].style.width=followPos-vt+"px"))},at=function(){a.sGlideRange("startAt",e[r]),k&&F(!0)};(i||g.match(/Windows Phone/i))&&t(window).on("orientationchange."+r,at);var tt=null,rt=!1,lt=!1,dt=function(t){if(N){t=t||event;var e=null,n=l.width();if(y){var s=a.position().top+C;i?(x=t.originalEvent.touches[0].pageY,e=s-x):e=s-t.pageY}else i?(m=t.originalEvent.touches[0].pageX,e=m-a.offset().left):e=t.pageX-a.offset().left;$&&(null===tt&&(tt=Z[0].offsetLeft-e+n/2),e+=tt,gt||mt());var r=n/2,h=e-r;t.returnValue&&(t.returnValue=!1);var u=Z[0],v=d[0],g=f[0],k=c[0],_=p[0];if(W||$)u===v?r>=e?(lt&&(lt=!1),rt||(u.style.left="0",k.style.width=r+"px",g.style.left=vt-n+"px",_.style.width=vt+r+"px",rt=!0)):e>=C-vt-r?(rt&&(rt=!1),lt||(g.style.left=C-2*n+"px",_.style.width=C-r+"px",u.style.left=C-vt-n+"px",k.style.width=C-vt-r+"px",lt=!0)):(rt=lt=!1,u.style.left=e-r+"px",k.style.width=e+"px",g.style.left=e-r-n+vt+"px",_.style.width=e+vt+"px",M&&"hard"!==M||ot("drag",h)):u===g&&(vt+r>=e?(lt&&(lt=!1),rt||(u.style.left=vt-n+"px",_.style.width=vt+r+"px",v.style.left="0",k.style.width=r+"px",rt=!0)):e>=C-r?(rt&&(rt=!1),lt||(u.style.left=C-2*n+"px",_.style.width=C-r+"px",v.style.left=C-vt-n+"px",k.style.width=C-vt-r+"px",lt=!0)):(rt=lt=!1,u.style.left=e-r-n+"px",_.style.width=e+"px",v.style.left=e-r-vt+"px",k.style.width=e-vt+"px",M&&"hard"!==M||ot("drag",h)));else if(u===v){var A=g.style.left,z=g.offsetLeft;r>=e?(lt&&(lt=!1),rt||(u.style.left="0",k.style.width=r+"px",rt=!0)):e>=z-r?(rt&&(rt=!1),lt||(u.style.left=A,k.style.width=z-r+"px","hard"===M&&nt(yt([w,b]).percentRange[1],"from"),lt=!0)):(rt=lt=!1,u.style.left=e-r+"px",k.style.width=e+"px",M&&"hard"!==M||ot("drag",h))}else if(u===g){var P=v.style.left,R=v.offsetLeft;R+r+n>=e?(lt&&(lt=!1),rt||(u.style.left=P,_.style.width=R+r+n+"px","hard"===M&&nt(yt([w,b]).percentRange[0],"to"),rt=!0)):e>=C-r?(rt&&(rt=!1),lt||(u.style.left=C-2*n+"px",_.style.width=C-r+"px",lt=!0)):(rt=lt=!1,u.style.left=e-r-n+"px",_.style.width=e+"px",M&&"hard"!==M||ot("drag",h))}ct();var L=a.data("state");o.drag&&"active"===L&&o.drag(kt(yt([w,b])))}},ft=function(t){var e=a.data("state");if(N=$=gt=rt=lt=!1,tt=null,"active"===e){if("hard"!==M){t=t||event;var n=null,s=0;y?(s=a.position().top+C,n=s-((i?x:t.pageY)-2)):n=(i?m:t.pageX)-a.offset().left;var r=l.width(),h=r/2,c=n-h;V>0&&10>V&&("soft"===M||"hard"===M)&&(Z[0]===d[0]&&c<=f[0].offsetLeft?w=ot("hard"===M?"hard":"soft",c):Z[0]===f[0]&&c>=d[0].offsetLeft&&(b=ot("hard"===M?"hard":"soft",c))),o.drop&&o.drop(kt(yt([w,b]))),o.drag&&"active"===e&&o.drag(kt(yt([w,b])))}a.data("state","inactive")}},ht=function(){i&&!u.disabled&&t(document).on(v.down+"."+r,function(t){m=t.originalEvent.touches[0].pageX,x=t.originalEvent.touches[0].pageY}),u.disabled||(l.on(v.down,function(e){Z=t(e.target),N=!0,a.data("state","active")}).on(v.up,function(){N=!1}),t(document).on(v.move+"."+r,dt).on(v.up+"."+r,ft),p.on(v.down,function(){N=$=!0,Z=f,a.data("state","active")}).on(v.up,function(){N=$=!1}))},ct=function(){w=d[0].offsetLeft||0,b=f[0].offsetLeft-f.width()||0},pt=null,ut=null,vt=null,gt=!1,mt=function(){pt=d[0].offsetLeft,ut=f[0].offsetLeft,vt=ut-pt,gt=!0};if(E)var xt=u.totalRange[0],wt=u.totalRange[1]-xt;var bt={},yt=function(t){for(var i=null,o=[],n=[],s=0,a=0;a<t.length;a++)i=0|t[a],s=i/(C-2*d.width())*100,o.push(s),E&&n.push(wt*s/100+xt);return bt.percentRange=o,E&&(bt.customRange=n),e[r]=o,bt},kt=function(t){return t.id=r,t.el=a,t},Mt=function(){var i=e[r];a.sGlideRange("startAt",i),ct();var n=kt(yt([w,b]));ht(),V>0&&10>V&&F(),y&&J(),o.onload&&o.onload(n),W&&mt(),t(s).off("makeready."+r,Mt)},_t=t.Event("makeready."+r);t(s).on("makeready."+r,Mt)})}};t.fn.sGlideRange=function(e){return o[e]?o[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.sGlideRange"):o.init.apply(this,arguments)}}(jQuery);